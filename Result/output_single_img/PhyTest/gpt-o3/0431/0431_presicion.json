[
  {
    "step_type": "background information",
    "premise": "",
    "conclusion": "Let the square ABCD of side a be placed so that A(0,a), B(a,a), C(a,0), D(0,0), and let the midpoint of the top side be M(a/2, a).",
    "judgment": "N/A"
  },
  {
    "step_type": "background information",
    "premise": "",
    "conclusion": "The incident ray is in air and makes the given 60° angle with the vertical downward normal of side AB.",
    "judgment": "N/A"
  },
  {
    "step_type": "background information",
    "premise": "",
    "conclusion": "After refraction it enters the prism at M with an (unknown) angle r to the vertical and therefore has the direction vector u = (sin r, -cos r) (downwards and to the right).",
    "judgment": "N/A"
  },
  {
    "step_type": "image description",
    "premise": "",
    "conclusion": "Side BC is the line x = a.",
    "judgment": "Match"
  },
  {
    "step_type": "logical inference",
    "premise": "Starting from M, the ray’s parametric form is (x,y) = (a/2 + t sin r, a - t cos r), t > 0.",
    "conclusion": "The intersection point N is obtained from x = a: t = a/(2 sin r), y_N = a - (a/2) cot r.",
    "judgment": "Match"
  },
  {
    "step_type": "logical inference",
    "premise": "A legitimate hit on BC requires 0 < y_N < a, i.e. cot r < 2 or tan r > 1/2.",
    "conclusion": "r > 26.6°.",
    "judgment": "Match"
  },
  {
    "step_type": "logical inference",
    "premise": "The inward ray makes the angle i_2 = 90° - r with the normal of BC.",
    "conclusion": "Total internal reflection (TIR) demands sin i_2 ≥ sin θ_c = 1/n, where n is the prism’s refractive index.",
    "judgment": "Match"
  },
  {
    "step_type": "logical inference",
    "premise": "Because sin i_2 = cos r, sin i_2 ≥ sin θ_c = 1/n.",
    "conclusion": "cos r ≥ 1/n ⟹ n ≥ 1/cos r.",
    "judgment": "Match"
  },
  {
    "step_type": "background information",
    "premise": "",
    "conclusion": "With n_air = 1 and incident angle i_1 = 60°.",
    "judgment": "N/A"
  },
  {
    "step_type": "logical inference",
    "premise": "sin i_1 = n sin r ⟹ n = sin 60°/sin r = (√3/2)/sin r.",
    "conclusion": "n = (√3/2)/sin r.",
    "judgment": "Match"
  },
  {
    "step_type": "logical inference",
    "premise": "The problem states that the ray is totally reflected at N; to find a unique n we take the limiting case “just at the critical angle’’.",
    "conclusion": "cos r = 1/n.",
    "judgment": "Match"
  },
  {
    "step_type": "logical inference",
    "premise": "Combine n = (√3/2)/sin r with cos r = 1/n.",
    "conclusion": "cos r = (2 sin r)/√3 ⟹ tan r = √3/2.",
    "judgment": "Match"
  },
  {
    "step_type": "logical inference",
    "premise": "tan r = √3/2.",
    "conclusion": "r = arctan(√3/2) ≈ 40.9°.",
    "judgment": "Match"
  },
  {
    "step_type": "logical inference",
    "premise": "n = (√3/2)/sin r = (√3/2)√(1 + tan²r) = (√3/2)√(1 + 3/4) = (√3/2)√(7/4) = √13/4.",
    "conclusion": "n ≈ 1.32.",
    "judgment": "Match"
  }]