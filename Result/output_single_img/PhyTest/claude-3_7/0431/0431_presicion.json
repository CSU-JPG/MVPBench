[
  {
    "step_type": "background information",
    "premise": "",
    "conclusion": "ABCD is a square cross-section of a prism with side length A. M is the midpoint of AB. A ray enters at M with incident angle 60°. After refraction, it undergoes total internal reflection at point N on BC. The reflected ray exits the prism at point P on CD.",
    "judgment": "N/A"
  },
  {
    "step_type": "background information",
    "premise": "",
    "conclusion": "Principles of geometrical optics including Snell's law and the law of reflection will be used.",
    "judgment": "N/A"
  },
  {
    "step_type": "background information",
    "premise": "",
    "conclusion": "Coordinate system setup: A at (0,A), B at (A,A), C at (A,0), D at (0,0), M at (A/2,A).",
    "judgment": "N/A"
  },
  {
    "step_type": "image description",
    "premise": "",
    "conclusion": "The incident ray comes in at angle 60° to the normal at M. The normal at M points upward (0,1), so the incident ray makes a 30° angle with the horizontal.",
    "judgment": "Match"
  },
  {
    "step_type": "logical inference",
    "premise": "Snell's law: n₁ sin(θ₁) = n₂ sin(θ₂), 1 × sin(60°) = n × sin(θ₂)",
    "conclusion": "sin(θ₂) = √3/(2n), θ₂ = arcsin(√3/(2n))",
    "judgment": "Match"
  },
  {
    "step_type": "logical inference",
    "premise": "The refracted ray makes an angle of arcsin(√3/(2n)) with the normal. The slope of this ray is cot(arcsin(√3/(2n))) = n/√(n²-3/4).",
    "conclusion": "The equation of the refracted ray is y - A = -(n/√(n²-3/4)) × (x - A/2).",
    "judgment": "Reasonable"
  },
  {
    "step_type": "logical inference",
    "premise": "Equation of the refracted ray: y - A = -(n/√(n²-3/4)) × (x - A/2), x = A",
    "conclusion": "Point N is at coordinates (A, A - (n×A)/(2√(n²-3/4))).",
    "judgment": "Reasonable"
  },
  {
    "step_type": "logical inference",
    "premise": "For total internal reflection: sin(θc) = 1/n, θᵢ = arccos(-√(n²-3/4)/√(2n²-3/4))",
    "conclusion": "For total internal reflection, θᵢ > θc = arcsin(1/n)",
    "judgment": "Reasonable"
  },
  {
    "step_type": "logical inference",
    "premise": "For total internal reflection: sin(θᵢ) > 1/n",
    "conclusion": "n² > 2, therefore n > √2 ≈ 1.414",
    "judgment": "Reasonable"
  },
  {
    "step_type": "logical inference",
    "premise": "After reflection at N, the ray follows the law of reflection. The reflected ray will intersect CD at point P.",
    "conclusion": "P is at (A - A·(n²-1)/n², 0).",
    "judgment": "Reasonable"
  },
  {
    "step_type": "logical inference",
    "premise": "PC = |P - C| = |A - A·(n²-1)/n² - A|",
    "conclusion": "PC = A·(n²-1)/n²",
    "judgment": "Reasonable"
  },
  {
    "step_type": "logical inference",
    "premise": "Given that total internal reflection occurs at exactly point N, n = √2.",
    "conclusion": "The refractive index of the prism is n = √2 ≈ 1.414.",
    "judgment": "Reasonable"
  }]